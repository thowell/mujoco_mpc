<mujoco model="Humanoid Locomotion">
  <include file="../../common.xml"/>
  <include file="../humanoid_strong.xml" />
  <size memory="1M"/>
  
  <custom>
    <text name="task_transition" data="Stand|Walk|Flip|Handstand" />
    <numeric name="agent_planner" data="2" />
    <numeric name="agent_horizon" data="0.5" />
    <numeric name="agent_timestep" data="0.015" />
    <numeric name="sampling_spline_points" data="3" />
    <numeric name="sampling_exploration" data="0.05" />
    <numeric name="gradient_spline_points" data="5" />
    <numeric name="ilqg_num_rollouts" data="7" />
    <numeric name="residual_Torso" data="1.3 1.0 1.7" />
    <numeric name="residual_Speed" data="1.0 0.0 5.0" />
    <numeric name="residual_Cadence" data="1.0 0.0 2.0" />
    <numeric name="residual_Amplitude" data="0.1 0.0 2.0" />
    <numeric name="residual_DutyRatio" data="0.5 0.0 2.0" />
    <numeric name="residual_select_Flip Dir." data="0"/>
    <text name="residual_list_Flip Dir." data="Back Flip|Front Flip"/>
    <numeric name="residual_Walk Speed" data="0 0 1.0"/>
    <numeric name="residual_Walk Turn" data="0 -2 2"/>
    <numeric name="residual_select_Walk Mode" data="0"/>
    <text name="residual_list_Walk Mode" data="Automatic|Manual"/>
  </custom>

  <worldbody>
    <body name="goal" mocap="true" pos="0.0 0.0 1.1" quat="0.0 1.0 0.0 0.0">
      <geom type="capsule" size="0.1 0.05 0.1" contype="0" conaffinity="0" rgba="0 1 0 0.5" fromto="0 0 -0.1 0 0 0.1" group="2"/>
    </body>

    <body name="box1" mocap="true" pos="1.0 -0.25 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.1 0.1 0.1"/>
    </body>
    <body name="box2" mocap="true" pos="1.4 0.15 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.1 0.2 0.1"/>
    </body>
    <body name="box3" mocap="true" pos="1.95 0.25 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.075 0.05 0.09"/>
    </body>
    <body name="box4" mocap="true" pos="1.85 -0.1 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.1 0.075 0.07"/>
    </body>
    <body name="box5" mocap="true" pos="1.25 0.5 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.225 0.01 0.05"/>
    </body>
    <body name="box6" mocap="true" pos="1.75 -0.4 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.225 0.075 0.05"/>
    </body>
    <body name="box7" mocap="true" pos="2.2 0.65 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.15 0.15 0.06"/>
    </body>
    <body name="box8" mocap="true" pos="1.9 0.95 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.1 0.2 0.03"/>
    </body>
    <body name="box9" mocap="true" pos="2.1 -0.35 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.05 0.2 0.06"/>
    </body>
    <body name="box10" mocap="true" pos="2.35 -0.45 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.05 0.2 0.07"/>
    </body>
    <body name="box11" mocap="true" pos="2.35 0.0 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.35 0.015 0.12"/>
    </body>
    <body name="box12" mocap="true" pos="2.55 0.25 0">
      <geom type="box" rgba="0.5 0.5 0.5 1" size="0.15 0.15 0.03"/>
    </body>
  </worldbody>

  <sensor>
    <user name="Height" dim="1" user="7 3.0 0 25.0 0.1 4.0" />
    <user name="Actuation" dim="21" user="3 0.05 0 0.1 0.3" />
    <user name="Balance" dim="1" user="1 2.5 0.0 25.0 0.02 4.0" />
    <user name="Upright" dim="8" user="2 2.5 0.0 25.0 0.01" />
    <user name="Posture" dim="21" user="0 0.075 0 1.0" />
    <user name="Goal Pos." dim="2" user="0 0.0 0.0 1.0" />
    <user name="Direction" dim="2" user="0 0.0 0.0 1.0" />
    <user name="Velocity" dim="2" user="7 0.0 0 25.0 0.2 4.0" />
    <user name="Walk" dim="1" user="7 0.0 0.0 25.0 0.5 3.0" />
    <user name="Gait" dim="2" user="6 0.0 0 10 0.03" />
    <user name="CoM Vel." dim="2" user="0 0.1 0.0 1.0" />
    <framepos name="trace0" objtype="body" objname="torso"/>
    <framepos name="torso_position" objtype="body" objname="torso"/>
    <framexaxis name="torso_xaxis" objtype="body" objname="torso"/>
    <framequat name="torso_orientation" objtype="body" objname="torso"/>
    <subtreecom name="torso_subcom" body="torso"/>
    <subtreelinvel name="torso_subcomvel" body="torso"/>
    <framepos name="foot_right" objtype="body" objname="foot_right"/>
    <framepos name="foot_left" objtype="body" objname="foot_left"/>
    <framepos name="sp0" objtype="site" objname="sp0"/>
    <framepos name="sp1" objtype="site" objname="sp1"/>
    <framepos name="sp2" objtype="site" objname="sp2"/>
    <framepos name="sp3" objtype="site" objname="sp3"/>
    <framepos name="pelvis_position" objtype="body" objname="pelvis"/>
    <framezaxis name="torso_up" objtype="xbody" objname="torso"/>
    <framezaxis name="pelvis_up" objtype="xbody" objname="pelvis"/>
    <framezaxis name="foot_right_up" objtype="xbody" objname="foot_right"/>
    <framezaxis name="foot_left_up" objtype="xbody" objname="foot_left"/>
    <framexaxis name="torso_forward" objtype="xbody" objname="torso"/>
    <framexaxis name="pelvis_forward" objtype="xbody" objname="pelvis"/>
    <framexaxis name="foot_right_forward" objtype="xbody" objname="foot_right"/>
    <framexaxis name="foot_left_forward" objtype="xbody" objname="foot_left"/>
    <subtreelinvel name="waist_lower_subcomvel" body="waist_lower"/>
    <framelinvel name="torso_velocity" objtype="body" objname="torso"/>
    <framelinvel name="foot_right_velocity" objtype="body" objname="foot_right"/>
    <framelinvel name="foot_left_velocity" objtype="body" objname="foot_left"/>
    <framepos name="goal_position" objtype="body" objname="goal"/>
    <framequat name="goal_orientation" objtype="body" objname="goal"/>
    <framepos name="hand_left" objtype="body" objname="hand_left"/>
    <framepos name="hand_right" objtype="body" objname="hand_right"/>
  </sensor>

  <keyframe> 
    <key name="home" qpos="0 0 1.27 1 0 0 0 0 0 0 -0.1 0 -0.25 -0.5 -0.25 0 -0.1 0 -0.25 -0.5 -0.25 0 0.5 -0.5 -1.5 0.5 -0.5 -1.5" />
    <key name="flip_crouch" qpos="0.376171 -0.00225238 0.728037 0.848827 -0.00463601 0.528639 0.00343255 -0.007854 -0.475167 -0.024436 -0.203101 -0.00289591 -1.87622 -2.1143 -0.855246 0.140758 -0.203101 -0.00289591 -1.9059 -2.1143 -0.855246 0.140758 0.26239 0.46487 -1.75054 0.26239 0.46487 -1.75054"/>
    <key name="handstand_crouch" qpos="0.376171 -0.00225238 0.825 0.848827 -0.00463601 0.528639 0.00343255 -0.007854 -0.475167 -0.024436 -0.203101 -0.00289591 -1.45 -2.1143 -0.855246 0.140758 -0.203101 -0.00289591 -1.45 -2.1143 -0.855246 0.140758 0.26239 0.975 -1.75054 0.26239 0.975 -1.75054"/>
    <key name="handstand" qpos="0 0 0.645 0.0457563 -0.0130115 0.998868 -0.000468346 0 0 0 -0.1 0 -0.156239 -0.5 -0.25 0 -0.1 0 0.156239 -0.5 -0.25 0 1.13112 2.29366 -1.03822 1.13112 2.29366 -1.03822" />
  </keyframe>
</mujoco>
