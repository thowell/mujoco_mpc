<mujoco model="dam_leg">
  <option timestep="0.002"/>
  <asset>
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1=".1 .2 .3" rgb2=".2 .3 .4"/>
    <material name="grid" texture="grid" texrepeat="1 1" texuniform="true" reflectance=".2"/>
  </asset>

  <default>
    <joint type="hinge" damping=".1" stiffness="0.1" armature=".001" solimplimit="0 .99 .01"/>
    <geom material="self"/>
  </default>

  <worldbody>
    <!-- Ground -->
    <geom name="ground" type="plane" pos="0 0 -0.5" size="10 10 0.1"  material="grid"/>

    <!-- Torso -->
    <body name="torso" pos="0 0 0.5">
      <geom name="torso_geom" type="sphere" size="0.1" mass="2" />

      <!-- Thigh -->
      <body name="thigh" pos="0 0 -0.1">
        <joint name="hip" type="hinge" pos="0 0 0" axis="1 0 0" />
        <geom name="thigh_geom" type="capsule" fromto="0 0 0 0 0 -0.25" size="0.02" mass="0.05"/>

        <!-- Calf -->
        <body name="calf" pos="0 0 -0.25">
          <joint name="knee" type="hinge" pos="0 0 0" axis="1 0 0" />
          <geom name="calf_geom" type="capsule" fromto="0 0 0 0 0 -0.2" size="0.05" mass="0.35"/>

          <!-- calf motor1 -->
          <body name="calf_1" pos="-0.06 0 -0.075">
            <joint name="calf_1" type="hinge" pos="0 0 0" axis="-1 0 0" />
            <geom name="calf_1" type="capsule" fromto="0 0 0 0 0.04 0" size="0.01" mass="0.025"/>

          <!-- calf link 1 -->
          <body name="calf_link_1" pos="0 0.04 0">
            <joint name="calf_link_1x" type="hinge" pos="0 0 0" axis="1 0 0" />
            <joint name="calf_link_1y" type="hinge" pos="0 0 0" axis="0 1 0" />
            <geom name="calf_link_1" type="capsule" fromto="0 0 0 0 -0.1 -0.195" size="0.01" mass="0.025"/>
          </body>
          </body>

          <!-- calf motor2 -->
          <body name="calf_2" pos="0.06 0 -0.095">
            <joint name="calf_2" type="hinge" pos="0 0 0" axis="1 0 0" />
            <geom name="calf_2" type="capsule" fromto="0 0 0 0 0.04 0" size="0.01" mass="0.025"/>
          <!-- calf link 2 -->
          <body name="calf_link_2" pos="0 0.04 0">
            <joint name="calf_link_2x" type="hinge" pos="0 0 0" axis="1 0 0" />
            <joint name="calf_link_2y" type="hinge" pos="0 0 0" axis="0 1 0" />
            <geom name="calf_link_2" type="capsule" fromto="0 0 0 0 -0.1 -0.18" size="0.01" mass="0.025"/>
          </body>
          </body>

          <!-- Foot -->
          <body name="foot" pos="0 0 -0.3">
            <joint name="ankle1" type="hinge" pos="0 0 0" axis="1 0 0" />
            <joint name="ankle2" type="hinge" pos="0 0 0" axis="0 1 0" />
            <geom name="foot_geom" type="box" size="0.05 0.1 0.01" friction="0.9 0.5 0.5" mass="0.1"/>
            <site name="tip" pos="0 0 0"/>
          </body>
        </body>

        <!-- Knee Motor -->
        <body name="motor" pos="0 0 -0.25">
          <geom name="motor_geom" type="capsule" fromto="0 0 0 -0.1 0 0" size="0.05" mass="0.15"/>
        </body>
      </body>
    </body>
  </worldbody>

  <equality>
    <connect body1="calf_link_2" body2="foot" anchor="0.05 -0.1 -0.12"/>
    <connect body1="calf_link_1" body2="foot" anchor="-0.05 -0.1 -0.12"/>
  </equality>

  <actuator>
    <!-- <motor name="a" joint="knee" gear="2" ctrllimited="true" ctrlrange="-10 10"/>
    <motor name="b" joint="calf_1" gear="2" ctrllimited="true" ctrlrange="-10 10"/>
    <motor name="c" joint="calf_2" gear="2" ctrllimited="true" ctrlrange="-10 10"/> -->
    <position name="knee" joint="knee" kp="10" ctrllimited="true" ctrlrange="-10 10"/>
    <position name="calf_1" joint="calf_1" kp="1" ctrllimited="true" ctrlrange="-10 10"/>
    <position name="calf_2" joint="calf_2" kp="1" ctrllimited="true" ctrlrange="-10 10"/>
    <!-- <position name="ankle" joint="ankle1" forcelimited="true" forcerange="-1.0 1.0"  kp="1"/>
    <position name="ankle2" joint="ankle2" forcelimited="true" forcerange="-1.0 1.0"  kp="1"/> -->
  </actuator>
</mujoco>
